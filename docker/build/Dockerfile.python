FROM python:3.14.2-slim-trixie@sha256:d517cd31ec21949a453d42c6f2006e6fccdeca986aeb3dd61f85485fefcb299b

COPY --from=ghcr.io/astral-sh/uv:0.9.29@sha256:db9370c2b0b837c74f454bea914343da9f29232035aa7632a1b14dc03add9edb /uv /usr/local/bin/uv

RUN useradd -m -s /bin/bash python && \
    mkdir -p /home/python && \
    chown -R python:python /home/python

USER python

WORKDIR /home/python/src
